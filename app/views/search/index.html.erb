<div class="content">
  <div class="main">
    <h1></h1>

    <div ng-controller="SearchController">

      <form ng-submit="search()">
        <div class="select-language">
          <select chosen ng-model="form.language" ng-options="name for name in languagesList"></select>
        </div>

        <div class="search-snippet">
          <input class='search' type="text" ng-model="form.search_snippet" placeholder="code snippet to search"/>
          <button class="btn search" type="submit" >Search</button>
        </div>

        <div class="searching-indicator" ng-show="is_searching">
          {{search_status}}
        </div>
      </form>

      <div class="results" ng-show="searchPaginator.currentPageItems.length">
        <div class="page-navigation">
          Current page: {{searchPaginator.currentPageNumber}}
          <br/>
          <a href='' ng-click='searchPaginator.previous()' ng-show='searchPaginator.prevPageNumber'>
            Previous page {{searchPaginator.prevPageNumber}}
          </a> |
          <a href='' ng-click='searchPaginator.next()' ng-show='searchPaginator.nextPageNumber'>
            Next page {{searchPaginator.nextPageNumber}}
          </a> |
          <a href='' ng-click='searchPaginator.last()' ng-show='searchPaginator.lastPageNumber'>
            Last page {{searchPaginator.lastPageNumber}}
          </a>
        </div>
        <div class="result" ng-repeat="result in searchPaginator.currentPageItems">

          <div class="repo-link-bar">
            <a class='repo repo-name' href="{{result.repository.html_url}}">{{result.repository.full_name}}</a>
            <a class='repo repo-link' href="{{result.html_url}}">{{result.path}}</a>
          </div>

          <div class='text-match' ng-repeat="text_match in result.text_matches">
            <syntaxcode language="{{form.language}}" snippet="text_match.fragment">
            </syntaxcode>
          </div>
        </div>
      </div>

      <div class='zero-results' ng-show="search_results.length == 0">
        There are no results for this search.
      </div>
    </div>
  </div>
</div>

